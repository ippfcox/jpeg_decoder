# JPEG编码原理

补充一下JPEG的编码原理

## 总

JPEG编码在原理上主要分为降采样、频域变换、量化、编码几步

### 降采样

我们最常用也最好理解的图像是RGB，可能再带上透明度A，这样的图像没有太大的问题，bmp基本上也就是这样的，再加上一个文件头而已

一副1920x1080的图像要占据的空间为$1920\times1080\times3=6220800(byte)\approx5.93MB$，这样就太大了

考虑到人眼是有局限性的，人眼对亮度更加敏感，而对色度和饱和度的敏感程度低一些，因此引入YUV颜色空间，其中Y为亮度，U和V分别为色度和饱和度

> *查一下YUV与YCbCr的区别*

一般的RGB排列方式为RGBRGBRGBRGB...，每个像素的RGB都是在一起的，YUV存在很多中排列方式

首先从YUV的采样方式说起，仍以1920x1080的图像举例，Y是不变的，始终是1920x1080的大小，根据UV采样方式的区别，分成3种情况

1. YUV444：U和V也都是1920x1080，每个YUV都是一一对应的，这样的YUV与RGB占据的空间相同
2. YUV422：U和V都是960x1080，水平方向采样了一半，这样YUV占据$\frac{2}{3}$ RGB图像空间
3. YUV420：U和V都是960x540，水平和垂直方向均采样了一半，这样YUV占据$\frac{1}{2}$ RGB图像空间

所以YUV可以在不损失主观观感的情况下大幅降低空间占用，因此，JPEG编码的第一步就是将RGB转换至YUV空间

### 频域变换

